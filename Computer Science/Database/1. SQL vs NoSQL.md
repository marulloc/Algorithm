# 정규화 데이터베이스 vs 비정규화 데이터베이스

https://github.com/gyoogle/tech-interview-for-developer/blob/master/Computer%20Science/Database/SQL%EA%B3%BC%20NOSQL%EC%9D%98%20%EC%B0%A8%EC%9D%B4.md

- 정규화 데이터베이스(normalized database)는 **중복**을 최소화 하도록 설계된 데이터베이스다.
- 비정규화 데이터베이스는 읽는 **시간**을 최적화하도록 설계단 데이터베이스다.

#### 정규화 데이터베이스

- 외래키를 갖는 열이 있다.
- 장점은: 데이터베이스에 데이터를 한 번만 저장해도 된다는 점이다.
- 단점은: 상당수의 일상적 질의(query)를 처리하기 위해 JOIN을 많이 하게 된다.

#### 비정규화 데이터베이스

- [https://flowarc.tistory.com/entry/NoSQL%EC%9D%98-%ED%8A%B9%EC%A7%95-2?category=722578](NoSQL 분류)

1. 어떻게 질의할 것이냐가 아닌 어떻게 응답할 것인가, 어떤 데이터를 줄 것인가에 중점을 두기 때문에 비정규화를 통해 데이터를 모델링합니다.

- 데이터를 중복해서 저장할 수 있다.
- 반복적인 질의에 대해서, 테이블에 미리 저장해두면 된다. 따라서 읽는 시간이 빠르지
- 비정규화는 높은 규모 확장성을 실현하기 위해 자주 사용된다.

2. 비정규화하면 모든 데이터를 한 곳에 모아놓고 쿼리를 수행하기 때문에, 쿼리 수행을 위한 I/O가 줄어 전체 성능을 향상시킬 수 있지만 중복이 허용되므로 전체 데이터 사이즈는 증가합니다.

3. 시스템과 데이터 사이즈가 큰 분산 환경에서 데이터 정규화 했을 때, 그 복잡도가 더욱 높아집니다. 비정규화를 하면 필요한 데이터들을 한 곳에 쿼리친화적인 구조로 쌓을 수 있기 때문에 전체적인 쿼리 프로세싱을 단순화하고 쿼리 실행 시간도 단축시킬 수 있습니다. 즉 복잡도가 낮아지는데 이와 상충하여 다른 Document나 Table에 중복되어 저장되기 때문에 전체 데이터 사이즈는 필연적으로 증가할 수 밖에 없습니다.

4. Foreign Key 등으로 데이터의 관계가 정의되어 있는 RDBMS 방식과는 다르게 NoSQL은 데이터 간의 관계를 정의하지 않습니다. (Join 연산 X)

- 1:n 관계를 최소화하여 결과적으로 join 연산을 줄일 수 있습니다. join해서 가져와야 하는 데이터를 내부에서 조회 가능하기 때문입니다. 이로인해 수행시간 단축과 저렴한 비용의 대용량 데이터 지원이 가능하다는 효과가 있습니다.

5. RDBMS와는 다르게 테이블 스키마가 유동적입니다. 한 번 정의하면 그 틀에 맞게 데이터를 집어넣어야 하고 스키마 변경이 어려운 반면에 NoSQL은 다양한 형태의 데이터들을 유연하게 처리할 수 있습니다.

- 수많은 데이터가 쌓여있는 상태에서 스키마를 변경한다고 가정해봅시다. 기존의 RDBMS에서는 변경하는 비용이 많이 발생할 수 있습니다. 하지만 다양한 구조를 담을 수 있기 때문에 확장과 변동에 대해 유연하게 대처가 가능합니다

WWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWWW

RDBMS의 장점

범용적, 고성능, 안정적, 일관성
정규화를 전제로 하고 있기 때문에 업데이트시 비용이 적다
데이터베이스 설계시 불필요한 중복을 방지
복잡한 형태의 쿼리가 가능하여 원하는 데이터를 얼마든지 볼 수 있다. (Join, Group by 등)
이미 성숙한 기술
성숙한 기술이기 때문에 시스템 성능 상 신뢰성이라던지 안정성이 좋습니다. 또한 정규화를 통해 데이터를 분류하고 정해진 형태를 가져가기 때문에 데이터의 업데이트 시 비용이 적으며 데이터에 제약을 통해 데이터의 중복을 방지할 수 있습니다. 이는 데이터의 일관성, 무결성을 보장합니다. 기본적으로 제공하는 join, group by 등의 기능을 통해 원하는 만큼 데이터를 뽑아서 사용할 수 있는점이 장점입니다.

RDBMS의 단점

대량의 데이터 입력 처리
테이블의 인덱스 생성, 스키마 변경 시 성능
개발, 운영할 때 데이터 컬럼을 확정 짓기 어려운 경우
데이터의 관계로 인해 스키마를 변경할 때, 데이터를 조작할 때 까다롭다는 단점이 있습니다. 대량의 데이터를 입력할 경우나 조회할 경우 성능이 저하될 수 있다는 부분과 Sharding과 Replication을 구축하는 비용이 많이 든다는 점이 단점이라고 할 수 있습니다.

NoSQL의 장점

데이터 분산에 용이
복제 및 장애대응(Recovery)에 용이
데이터를 고속으로 처리할 필요가 있는 경우
로그 등 계속 적재되야하고 대량의 데이터를 저장하고 싶은 경우 용이
기본적으로 데이터 모델 자체가 독립적으로 설계되어 있어 데이터를 여러 서버에 분산시키는 것이 가능하고 더 수월하게 할 수 있습니다. Sharding과 Replication이 용이하기 때문에 데이터 백업 및 장애대응에도 효과적으로 대처할 수 있으며 데이터를 무한대로 저장이 가능합니다. 또한 스키마의 정해진 형태가 없기 때문에 유연하게 데이터 모델을 변경하는 것이 가능하며 고속으로 데이터 처리가 가능합니다.

NoSQL의 단점

각 솔루션의 특징을 이해할 필요가 있음. 학습곡선이 높다
새로운 기술로 분류되기 때문에 운영에 대한 노하우가 부족
RDBMS와 비교하여 아직 버그가 상대적으로 많은 상태
보안에 취약하기 때문에 별도의 보안 체계를 마련
데이터 모델링의 어려움
NoSQL에 매우 많은 솔루션들이 있고 각각 사용하는 데이터 모델의 개념이 다르므로 사용하고자 하는 솔루션의 특징을 이해할 필요가 있습니다. RDBMS와 비교하여 버그가 많은 상태이기 때문에 지속적인 버전업이 이뤄지며, 새로운 솔루션이 등장하므로 학습곡선이 높다는점이 단점. 또한 RDBMS보다 더 깊은 데이터 구조, 알고리즘에 대한 이해가 필요하며 데이터 모델링이 까다롭습니다.

출처: https://flowarc.tistory.com/entry/NoSQL의-특징-2?category=722578 [Stop the World]
