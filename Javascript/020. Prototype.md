# Prototype

prototype은 자바스크립트의 객체지향성을 지탱하는 개념이다. 또 일반적인 객체지향 언어와 구분하는 개념이다.
prototype은 말 그대로 객체의 원형이 된다. JS에서는 prototype으로 상속을 구현할 수 있다.

자바스크립트에서 말하는 프로토타입은 "어떠한 객체가 만들어지기 위해, 그 객체의 모체가 되는 것"을 말한다. Java에서 Instance가 JS의 객체이며, Java의 class역할을 하는것이 JS의 Prototype이라 보면 된다. 근데 JS ES6부터 class 키워드가 등장하지만, 이 prototype의 개념을 벗어나지 않는다.

JS에서 Prototype이란 명칭은 2가지를 각각 가리킨다. 이 두 가지를 구분할 수 있어야 한다.

1. Prototype property
2. Protytpe Link

<br>
<br>

## Class와 Object

<br>
<br>

## new 키워드와 (생성자)함수

`function Person(){}` 함수는 statement의 일종이지만, JS에서 함수는 독특한 "**객체**"다. 객체이기 때문에 `new` 키워드를 사용해서 함수를 표현할 수도 있다. `var Person = new Function()`

- JS의 함수는 객체이기 때문에 **프로퍼티를 가질 수 있다.**

<br>
<br>

## 함수와 Prototype

```javascript
function Person(name, first, second) {
  this.name = name;
  this.first = first;
  this.second = second;
}
```

- 위와 같이 함수를 선언하면 `Person`이라는 function Object가 생성된다.
  - 내부에 **prototype 이라는 프로퍼티**가 생긴다.
- 그런데 객체가 하나 더 생긴다. `Person.prototype`이라는 객체도 추가로 생성된다. **이것은 prototype Object 라고 불린다.**
  - 내부에 **constructor라는 프로퍼티**가 생긴다.

#### 그래서 함수의 역할은

#### 호출시에 결정되는 this 바인딩

<br>
<br>

## Function Object 와 Function.prototype

![](https://i.imgur.com/L6tWWpg.png)

- Penson (함수)객체와 Person.prototype 객체는 서로 상호참조하고 있다.
  - Person의 **prototype** "property"가 Person.prototype 객체를 참조한다.
  - Person.prototype의 **constructor** "property"가 Person 객체를 참조한다.

<br>

#### prototype 객체의 이용

```javascript
Person.prototype.sum = function () {};
```

- Person.prototype에 sum 메소드가 연결된다.
- 이 함수는 prototype 객체에 선언되어 있으니 나중에, 연결된 객체들이 공유할 수 있게 된다.(prototype link/chaining 을 이용하여)

<br>

#### 함수는 생성자가 되어, 객체를 생성할 수 있다.

```javascript
var kim = new Person("kim", 10, 20);
var cho = new Person("cho", 20, 30);
```

- 생성자 함수를 호출과 `new` 키워드가 합쳐지면서, kim과 cho에 Person (함수)객체와 같은 새로운 객체가 생성된다.
- 이때 Person 객체가 가지고 있는 프로퍼티들을 만들고 초기화한다.
- 또한 `__proto__`라는 프로퍼티가 생긴다. 이 프로퍼티는 Person.prototype 객체를 참조한다.
  ![](https://i.imgur.com/SIBvxs8.png)

<br>

## prototype link의 이용과 상속에 응용
