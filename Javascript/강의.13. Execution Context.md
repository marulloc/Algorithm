# Execution Context

- 함수가 실행되는 영역이자 묶음
- 함수 코드를 실행하고, 실행 결과를 저장하기도 함

```javascript
function music(title) {
  var musicTitle = title;
}
music("음악");
```

1. music() 함수를 호출하면 엔진은 실행 콘텍스트를 생성한다.
2. 실행 콘텍스트가 생성되면, 콜스택에 쌓는다. 엔진은 항상 콜스택의 top을 수행하므로, 엔진은 music의 실행 콘텍스트 안으로 이동한다.
   - 준비단계
   - 초기화단계
   - 코드 실행단계

<br>
<br>

#### 실행 컨텍스트의 상태 컴포넌트

- 상태(환경)을 저장하기 위한 3개의 컴포넌트가 있다.

1. Lexical Environment
2. Variable Environment
3. This Binding

```javascript
실행컨텍스트_EC : {
    렉시컬환경컴포넌트_LEC : { },
    변수환경컴포넌트_VEC : { },
    This바인딩컴포넌트_TBC : { }
}
```

- 렉시컬 환경과 변수 환경은 초기 값이 같다.
  - 렉시컬 환경은 정적환경이지만, 글로벌 환경과 동적 환경이 이 안에서 처리되기 때문에, 세부 값의 변경이 일어날 수 있다.
  - 변수 환경은 복원을 위해 존재한다. 다시 돌아왔을 때 변수 환경의 값을 렉시컬 환경에 적용함으로써 초기값으로 돌아가기 위함이다.\
- This 바인딩 컴포넌트는 함수 안에서 this로 참조하는 오브젝트를 담는다. `obj.abc()`라는 함수가 존재할 때, `abc` 함수 안에서 `obj`라는 객체를 `this`로 참조할 수 있다.

<br>
<br>

### Execution Context 생성 시점

- 실행 가능한 코드를 만났을 때다.
  - 실행 가능한 코드란 "함수 코드", "글로벌 코드", "eval()"이다.
  - 함수코드는 함수 내부에 작성된 코드를 말한다.
  - 글로벌 코드는, Global Object에 작성된 코드를 말한다.
  - eval 코드는, eval의 인자로 들어간 문자열을 말한다.
- 위처럼 코드 유형을 분리한 이유는 엔진이 실행 콘텍스트로 처리하는 방법과 실행 환경이 다르기 때문이다.
  - 함수코드는 렉시컬 환경을 갖는다.
  - 글로벌코드는 글로벌 환경을 갖는다.
  - eval 코드는 동적 환경을 갖는다.
